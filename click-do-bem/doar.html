<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Click do Bem - Doações</title>
    <link rel="shortcut icon" href="assets/images/logonova.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.css">
    <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
    <link rel="stylesheet" href="doar.css">
</head>

<body data-bs-spy="scroll" data-bs-target=".navbar">

    <!-- BOTÃO DE LOGOUT FIXO -->
    <button id="btnLogout" 
            class="btn btn-outline-danger position-fixed" 
            style="top: 15px; right: 15px; z-index: 1000;">
        Sair
    </button>

    <!-- CONTEÚDO PRINCIPAL -->
    <div class="container mt-5 pt-5">
        <div class="row">
            <div class="col-12 text-center" data-aos="fade-down" data-aos-delay="150">
                <div class="section-title">
                    <h1 class="display-4 fw-semibold">Comece a Doar</h1>
                </div>
            </div>
        </div>

        <div class="row justify-content-center mt-4">
            <div class="col-md-3" data-aos="fade-down" data-aos-delay="150">
                <div class="team-member image-zoom text-center p-3">
                    <div class="image-zoom-wrapper mb-3">
                        <img src="./assets/images/pets.svg" alt="" class="img-fluid">
                    </div>
                    <h5>Doe para animais</h5>
                    <p>Contribua com ração e outros itens para animais necessitados.</p>
                    <a href="doacoes/animais.html" class="btn btn-success">Clique aqui</a>
                </div>
            </div>

            <div class="col-md-3" data-aos="fade-down" data-aos-delay="200">
                <div class="team-member image-zoom text-center p-3">
                    <div class="image-zoom-wrapper mb-3">
                        <img src="./assets/images/food.svg" alt="" class="img-fluid">
                    </div>
                    <h5>Doe alimentos</h5>
                    <p>Contribua para a redução da fome e doe para cestas básicas.</p>
                    <a href="doacoes/alimentos.html" class="btn btn-success">Clique aqui</a>
                </div>
            </div>

            <div class="col-md-3" data-aos="fade-down" data-aos-delay="250">
                <div class="team-member image-zoom text-center p-3">
                    <div class="image-zoom-wrapper mb-3">
                        <img src="./assets/images/clothes.svg" alt="" class="img-fluid">
                    </div>
                    <h5>Doe roupas</h5>
                    <p>Contribua com roupas e agasalhos para pessoas carentes.</p>
                    <a href="doacoes/roupas.html" class="btn btn-success">Clique aqui</a>
                </div>
            </div>

            <div class="col-md-3" data-aos="fade-down" data-aos-delay="300">
                <div class="team-member image-zoom text-center p-3">
                    <div class="image-zoom-wrapper mb-3">
                        <img src="./assets/images/book.svg" alt="" class="img-fluid">
                    </div>
                    <h5>Doe para educação</h5>
                    <p>Contribua com material escolar para estudantes de todas as idades.</p>
                    <a href="doacoes/material.html" class="btn btn-success">Clique aqui</a>
                </div>
            </div>
        </div>

        <div class="text-center mt-5">
            <a href="index.html" class="btn btn-outline-primary">Voltar</a>
        </div>
    </div>

    <!-- JS do Bootstrap e AOS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@4.0/dist/fancybox.umd.js"></script>
    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
    <script>
        AOS.init();
    </script>

    <!-- Firebase Auth Proteção -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
        import { getAuth, onAuthStateChanged, signOut } 
            from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAYZsqcE0hNnE1CFYUWwGbqP1l9pGsS0xs",
            authDomain: "click-do-bem-99516.firebaseapp.com",
            projectId: "click-do-bem-99516",
            storageBucket: "click-do-bem-99516.firebasestorage.app",
            messagingSenderId: "562779049863",
            appId: "1:562779049863:web:2cddaf4c417de324284d22",
            measurementId: "G-PLNSJJN28V"
        };

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        //  Verifica se o usuário está logado
        onAuthStateChanged(auth, (user) => {
            if (!user) {
                window.location.href = "login.html"; // redireciona se não estiver logado
            }
        });

        //  Botão de logout seguro
        const logoutBtn = document.getElementById("btnLogout");
        if (logoutBtn) {
            logoutBtn.addEventListener("click", async () => {
                await signOut(auth);
                window.location.href = "login.html";
            });
        }
    </script>
</body>
</html>
